#!/bin/sh
# Create the micron/version.h file
# Copyright (c) 2024 bellrise

MAJ=$1
MIN=$2

cat <<EOF
/* micron/version.h
   Generated by Micron build process on:
   $(date) */

#ifndef MICRON_VERSION_H
#define MICRON_VERSION_H 1

#define MICRON_VER_MAJ $MAJ
#define MICRON_VER_MIN $MIN

#define MICRON_STRVER "$MAJ.$MIN"

/* The version number is created by combining the major and minor number,
   with the major number offset by 16 bits to the left. */
#define MICRON_VER $(printf '0x%04x%04x' $MAJ $MIN)

#endif /* MICRON_VERSION_H */
EOF
