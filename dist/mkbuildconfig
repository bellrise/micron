#!/bin/sh
# Create the micron_genconfig.h file
# Copyright (c) 2024 bellrise

[ -f "dist/default.config" ] && . dist/default.config
[ -f "dist/.config" ] && . dist/.config

cat <<EOF
/* micron_genconfig.h
   Generated by Micron build process on:
   $(date) */

#ifndef MICRON_GENCONFIG_H
#define MICRON_GENCONFIG_H 1

#define MICRON_CONFIG_MEM           1
#define MICRON_CONFIG_MEM_HEAP      $MICRON_CONFIG_MEM_HEAP

#define MICRON_CONFIG_NET           1
#define MICRON_CONFIG_NET_SSID      "$MICRON_CONFIG_NET_SSID"
#define MICRON_CONFIG_NET_PASSWD    "$MICRON_CONFIG_NET_PASSWD"
#define MICRON_CONFIG_NET_RWBUF     $MICRON_CONFIG_NET_RWBUF

#endif /* MICRON_GENCONFIG_H */
EOF
